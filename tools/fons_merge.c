/* fons_merge.c - Merge glyphs from Alcuin into fons_6x8.h empty slots
 *
 * Reads both fonts, outputs merged header where:
 * - Non-empty slots in fons_6x8.h are preserved
 * - Empty slots are filled from Alcuin
 * - 0x20 (space) stays empty
 *
 * Usus: ./fons_merge > include/fons_6x8.h
 */

#include <stdio.h>
#include <string.h>

#define NUM_GLYPHAE 256
#define ALTITUDO    8

/* Includere ambas fontes */
#include "../include/fons_6x8.h"

/* Alcuin data generata a bitsyfont_ad_fons - paste here or include */
static const signed char fons_alcuin[NUM_GLYPHAE][ALTITUDO] = {
    /* 0x00  */     {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
    /* 0x01  */     {0x38, 0x44, 0x6C, 0x44, 0x54, 0x44, 0x38, 0x00},
    /* 0x02  */     {0x38, 0x7C, 0x54, 0x7C, 0x44, 0x7C, 0x38, 0x00},
    /* 0x03  */     {0x00, 0x28, 0x7C, 0x7C, 0x7C, 0x38, 0x10, 0x00},
    /* 0x04  */     {0x00, 0x00, 0x28, 0x38, 0x38, 0x10, 0x00, 0x00},
    /* 0x05  */     {0x10, 0x38, 0x38, 0x10, 0x7C, 0x7C, 0x10, 0x00},
    /* 0x06  */     {0x00, 0x10, 0x38, 0x7C, 0x7C, 0x10, 0x38, 0x00},
    /* 0x07  */     {0x00, 0x00, 0x00, 0x30, 0x30, 0x00, 0x00, 0x00},
    /* 0x08  */     {(signed char)0xFC, (signed char)0xFC, (signed char)0xFC, (signed char)0xCC, (signed char)0xCC, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC},
    /* 0x09  */     {0x00, 0x00, 0x78, 0x48, 0x48, 0x78, 0x00, 0x00},
    /* 0x0A  */     {(signed char)0xFC, (signed char)0xFC, (signed char)0x84, (signed char)0xB4, (signed char)0xB4, (signed char)0x84, (signed char)0xFC, (signed char)0xFC},
    /* 0x0B  */     {0x00, 0x1C, 0x0C, 0x34, 0x48, 0x48, 0x30, 0x00},
    /* 0x0C  */     {0x38, 0x44, 0x44, 0x38, 0x10, 0x38, 0x10, 0x00},
    /* 0x0D  */     {0x10, 0x18, 0x14, 0x10, 0x30, 0x70, 0x60, 0x00},
    /* 0x0E  */     {0x0C, 0x34, 0x2C, 0x34, 0x2C, 0x6C, 0x60, 0x00},
    /* 0x0F  */     {0x00, 0x54, 0x38, 0x6C, 0x38, 0x54, 0x00, 0x00},
    /* 0x10  */     {0x20, 0x30, 0x38, 0x3C, 0x38, 0x30, 0x20, 0x00},
    /* 0x11  */     {0x08, 0x18, 0x38, 0x78, 0x38, 0x18, 0x08, 0x00},
    /* 0x12  */     {0x10, 0x38, 0x7C, 0x10, 0x7C, 0x38, 0x10, 0x00},
    /* 0x13  */     {0x28, 0x28, 0x28, 0x28, 0x28, 0x00, 0x28, 0x00},
    /* 0x14  */     {0x3C, 0x54, 0x54, 0x34, 0x14, 0x14, 0x14, 0x00},
    /* 0x15  */     {0x38, 0x44, 0x30, 0x28, 0x18, 0x44, 0x38, 0x00},
    /* 0x16  */     {0x00, 0x00, 0x00, 0x00, 0x00, 0x78, 0x78, 0x00},
    /* 0x17  */     {0x10, 0x38, 0x7C, 0x10, 0x7C, 0x38, 0x10, 0x38},
    /* 0x18  */     {0x10, 0x38, 0x7C, 0x10, 0x10, 0x10, 0x10, 0x00},
    /* 0x19  */     {0x10, 0x10, 0x10, 0x10, 0x7C, 0x38, 0x10, 0x00},
    /* 0x1A  */     {0x00, 0x10, 0x18, 0x7C, 0x18, 0x10, 0x00, 0x00},
    /* 0x1B  */     {0x00, 0x10, 0x30, 0x7C, 0x30, 0x10, 0x00, 0x00},
    /* 0x1C  */     {0x00, 0x00, 0x00, 0x40, 0x40, 0x40, 0x7C, 0x00},
    /* 0x1D  */     {0x00, 0x28, 0x28, 0x7C, 0x28, 0x28, 0x00, 0x00},
    /* 0x1E  */     {0x10, 0x10, 0x38, 0x38, 0x7C, 0x7C, 0x00, 0x00},
    /* 0x1F  */     {0x7C, 0x7C, 0x38, 0x38, 0x10, 0x10, 0x00, 0x00},
    /* 0x20-0x7F: Use HP font, skip Alcuin for these */
    /* 0x80+ range from Alcuin: */
    /* 0x80  */     {0x38, 0x40, 0x40, 0x40, 0x44, 0x38, 0x10, 0x30},
    /* 0x81  */     {0x48, 0x00, 0x48, 0x48, 0x48, 0x58, 0x24, 0x00},
    /* 0x82  */     {0x0C, 0x00, 0x38, 0x48, 0x70, 0x44, 0x38, 0x00},
    /* 0x83  */     {0x38, 0x00, 0x30, 0x08, 0x38, 0x48, 0x34, 0x00},
    /* 0x84  */     {0x28, 0x00, 0x30, 0x08, 0x38, 0x48, 0x34, 0x00},
    /* 0x85  */     {0x30, 0x00, 0x30, 0x08, 0x38, 0x48, 0x34, 0x00},
    /* 0x86  */     {0x38, 0x28, 0x30, 0x08, 0x38, 0x48, 0x34, 0x00},
    /* 0x87  */     {0x00, 0x38, 0x40, 0x40, 0x48, 0x30, 0x10, 0x30},
    /* 0x88  */     {0x38, 0x00, 0x38, 0x48, 0x70, 0x44, 0x38, 0x00},
    /* 0x89  */     {0x28, 0x00, 0x38, 0x48, 0x70, 0x44, 0x38, 0x00},
    /* 0x8A  */     {0x30, 0x00, 0x38, 0x48, 0x70, 0x44, 0x38, 0x00},
    /* 0x8B  */     {0x28, 0x00, 0x10, 0x30, 0x10, 0x18, 0x10, 0x00},
    /* 0x8C  */     {0x10, 0x28, 0x00, 0x10, 0x30, 0x10, 0x18, 0x00},
    /* 0x8D  */     {0x20, 0x00, 0x10, 0x30, 0x10, 0x18, 0x10, 0x00},
    /* 0x8E  */     {0x28, 0x00, 0x30, 0x18, 0x24, 0x7C, 0x44, 0x00},
    /* 0x8F  */     {0x38, 0x28, 0x30, 0x18, 0x24, 0x7C, 0x44, 0x00},
    /* 0x90  */     {0x0C, (signed char)0x80, 0x7C, 0x40, 0x78, 0x40, (signed char)0xF8, 0x00},
    /* 0x91  */     {0x00, 0x00, 0x78, 0x14, 0x7C, 0x50, 0x3C, 0x00},
    /* 0x92  */     {0x3C, 0x50, 0x50, 0x7C, 0x50, 0x50, 0x5C, 0x00},
    /* 0x93  */     {0x38, 0x00, 0x38, 0x44, 0x44, 0x24, 0x18, 0x00},
    /* 0x94  */     {0x28, 0x00, 0x38, 0x44, 0x44, 0x24, 0x18, 0x00},
    /* 0x95  */     {0x60, 0x00, 0x38, 0x44, 0x44, 0x24, 0x18, 0x00},
    /* 0x96  */     {0x38, 0x00, 0x48, 0x48, 0x48, 0x58, 0x24, 0x00},
    /* 0x97  */     {0x60, 0x00, 0x48, 0x48, 0x48, 0x58, 0x24, 0x00},
    /* 0x98  */     {0x28, 0x00, 0x48, 0x48, 0x48, 0x38, 0x10, 0x60},
    /* 0x99  */     {0x48, 0x30, 0x00, 0x48, 0x48, 0x58, 0x34, 0x00},
    /* 0x9A  */     {0x28, 0x00, 0x48, 0x48, 0x48, 0x58, 0x34, 0x00},
    /* 0x9B  */     {0x00, 0x10, 0x38, 0x40, 0x40, 0x38, 0x10, 0x00},
    /* 0x9C  */     {0x18, 0x24, 0x20, 0x78, 0x20, 0x24, 0x5C, 0x00},
    /* 0x9D  */     {0x44, 0x28, 0x10, 0x7C, 0x10, 0x7C, 0x10, 0x00},
    /* 0x9E  */     {0x60, 0x50, 0x50, 0x68, 0x5C, 0x48, 0x48, 0x00},
    /* 0x9F  */     {0x08, 0x14, 0x10, 0x38, 0x10, 0x10, 0x50, 0x20},
    /* 0xA0  */     {0x18, 0x00, 0x30, 0x08, 0x38, 0x48, 0x34, 0x00},
    /* 0xA1  */     {0x18, 0x00, 0x10, 0x30, 0x10, 0x18, 0x10, 0x00},
    /* 0xA2  */     {0x18, 0x00, 0x38, 0x44, 0x44, 0x24, 0x18, 0x00},
    /* 0xA3  */     {0x18, 0x00, 0x48, 0x48, 0x48, 0x58, 0x24, 0x00},
    /* 0xA4  */     {0x28, 0x50, (signed char)0x80, 0x70, 0x48, 0x48, 0x48, 0x00},
    /* 0xA5  */     {0x28, 0x50, 0x00, 0x48, 0x68, 0x58, 0x48, 0x00},
    /* 0xA6  */     {0x38, 0x08, 0x38, 0x48, 0x34, 0x00, 0x3C, 0x00},
    /* 0xA7  */     {0x30, 0x48, 0x48, 0x28, 0x10, 0x00, 0x78, 0x00},
    /* 0xA8  */     {0x10, 0x00, 0x10, 0x30, 0x40, 0x44, 0x38, 0x00},
    /* 0xA9  */     {0x00, 0x00, 0x7C, 0x40, 0x40, 0x40, 0x00, 0x00},
    /* 0xAA  */     {0x00, 0x00, (signed char)0xFC, 0x04, 0x04, 0x00, 0x00, 0x00},
    /* 0xAB  */     {0x40, 0x48, 0x50, 0x38, 0x44, 0x08, 0x1C, 0x00},
    /* 0xAC  */     {0x40, 0x48, 0x50, 0x2C, 0x54, 0x1C, 0x04, 0x00},
    /* 0xAD  */     {0x10, 0x00, 0x10, 0x10, 0x38, 0x38, 0x10, 0x00},
    /* 0xAE  */     {0x00, 0x00, 0x24, 0x48, 0x24, 0x00, 0x00, 0x00},
    /* 0xAF  */     {0x00, 0x00, 0x48, 0x24, 0x48, 0x00, 0x00, 0x00},
    /* 0xB0  */     {0x54, 0x00, (signed char)0xA8, 0x00, 0x54, 0x00, (signed char)0xA8, 0x00},
    /* 0xB1  */     {0x54, (signed char)0xA8, 0x54, (signed char)0xA8, 0x54, (signed char)0xA8, 0x54, (signed char)0xA8},
    /* 0xB2  */     {(signed char)0xA8, (signed char)0xFC, 0x54, (signed char)0xFC, (signed char)0xA8, (signed char)0xFC, 0x54, (signed char)0xFC},
    /* 0xB3  */     {0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10},
    /* 0xB4  */     {0x10, 0x10, 0x10, (signed char)0xF0, 0x10, 0x10, 0x10, 0x10},
    /* 0xB5  */     {0x00, 0x00, 0x48, 0x48, 0x48, 0x70, 0x40, 0x40},
    /* 0xB6  */     {0x50, 0x50, 0x50, (signed char)0xD0, 0x50, 0x50, 0x50, 0x50},
    /* 0xB7  */     {0x00, 0x00, 0x00, (signed char)0xF0, 0x50, 0x50, 0x50, 0x50},
    /* 0xB8  */     {0x00, (signed char)0xF0, 0x10, (signed char)0xF0, 0x10, 0x10, 0x10, 0x10},
    /* 0xB9  */     {0x50, (signed char)0xD0, 0x10, (signed char)0xD0, 0x50, 0x50, 0x50, 0x50},
    /* 0xBA  */     {0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50},
    /* 0xBB  */     {0x00, (signed char)0xF0, 0x10, (signed char)0xD0, 0x50, 0x50, 0x50, 0x50},
    /* 0xBC  */     {0x50, (signed char)0xD0, 0x10, (signed char)0xF0, 0x00, 0x00, 0x00, 0x00},
    /* 0xBD  */     {0x50, 0x50, 0x50, (signed char)0xF0, 0x00, 0x00, 0x00, 0x00},
    /* 0xBE  */     {0x10, (signed char)0xF0, 0x10, (signed char)0xF0, 0x00, 0x00, 0x00, 0x00},
    /* 0xBF  */     {0x00, 0x00, 0x00, (signed char)0xF0, 0x10, 0x10, 0x10, 0x10},
    /* 0xC0  */     {0x10, 0x10, 0x10, 0x1C, 0x00, 0x00, 0x00, 0x00},
    /* 0xC1  */     {0x10, 0x10, 0x10, (signed char)0xFC, 0x00, 0x00, 0x00, 0x00},
    /* 0xC2  */     {0x00, 0x00, 0x00, (signed char)0xFC, 0x10, 0x10, 0x10, 0x10},
    /* 0xC3  */     {0x10, 0x10, 0x10, 0x1C, 0x10, 0x10, 0x10, 0x10},
    /* 0xC4  */     {0x00, 0x00, 0x00, (signed char)0xFC, 0x00, 0x00, 0x00, 0x00},
    /* 0xC5  */     {0x10, 0x10, 0x10, (signed char)0xFC, 0x10, 0x10, 0x10, 0x10},
    /* 0xC6  */     {0x10, 0x1C, 0x10, 0x1C, 0x10, 0x10, 0x10, 0x10},
    /* 0xC7  */     {0x50, 0x50, 0x50, 0x5C, 0x50, 0x50, 0x50, 0x50},
    /* 0xC8  */     {0x50, 0x5C, 0x40, 0x7C, 0x00, 0x00, 0x00, 0x00},
    /* 0xC9  */     {0x00, 0x7C, 0x40, 0x5C, 0x50, 0x50, 0x50, 0x50},
    /* 0xCA  */     {0x50, (signed char)0xDC, 0x00, (signed char)0xFC, 0x00, 0x00, 0x00, 0x00},
    /* 0xCB  */     {0x00, (signed char)0xFC, 0x00, (signed char)0xDC, 0x50, 0x50, 0x50, 0x50},
    /* 0xCC  */     {0x50, 0x5C, 0x40, 0x5C, 0x50, 0x50, 0x50, 0x50},
    /* 0xCD  */     {0x00, (signed char)0xFC, 0x00, (signed char)0xFC, 0x00, 0x00, 0x00, 0x00},
    /* 0xCE  */     {0x50, (signed char)0xDC, 0x00, (signed char)0xDC, 0x50, 0x50, 0x50, 0x50},
    /* 0xCF  */     {0x10, (signed char)0xFC, 0x00, (signed char)0xFC, 0x00, 0x00, 0x00, 0x00},
    /* 0xD0  */     {0x50, 0x50, 0x50, (signed char)0xFC, 0x00, 0x00, 0x00, 0x00},
    /* 0xD1  */     {0x00, (signed char)0xFC, 0x00, (signed char)0xFC, 0x10, 0x10, 0x10, 0x10},
    /* 0xD2  */     {0x00, 0x00, 0x00, (signed char)0xFC, 0x50, 0x50, 0x50, 0x50},
    /* 0xD3  */     {0x50, 0x50, 0x50, 0x7C, 0x00, 0x00, 0x00, 0x00},
    /* 0xD4  */     {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, (signed char)0xFC},
    /* 0xD5  */     {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, (signed char)0xFC, (signed char)0xFC},
    /* 0xD6  */     {0x00, 0x00, 0x00, 0x00, 0x00, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC},
    /* 0xD7  */     {0x00, 0x00, 0x00, 0x00, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC},
    /* 0xD8  */     {0x00, 0x00, 0x00, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC},
    /* 0xD9  */     {0x00, 0x00, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC},
    /* 0xDA  */     {0x00, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC},
    /* 0xDB  */     {(signed char)0xFC, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC, (signed char)0xFC},
    /* 0xDC  */     {(signed char)0x80, (signed char)0x80, (signed char)0x80, (signed char)0x80, (signed char)0x80, (signed char)0x80, (signed char)0x80, (signed char)0x80},
    /* 0xDD  */     {(signed char)0xC0, (signed char)0xC0, (signed char)0xC0, (signed char)0xC0, (signed char)0xC0, (signed char)0xC0, (signed char)0xC0, (signed char)0xC0},
    /* 0xDE  */     {(signed char)0xE0, (signed char)0xE0, (signed char)0xE0, (signed char)0xE0, (signed char)0xE0, (signed char)0xE0, (signed char)0xE0, (signed char)0xE0},
    /* 0xDF  */     {(signed char)0xF0, (signed char)0xF0, (signed char)0xF0, (signed char)0xF0, (signed char)0xF0, (signed char)0xF0, (signed char)0xF0, (signed char)0xF0},
    /* 0xE0  */     {(signed char)0xF8, (signed char)0xF8, (signed char)0xF8, (signed char)0xF8, (signed char)0xF8, (signed char)0xF8, (signed char)0xF8, (signed char)0xF8},
    /* 0xE1  */     {0x00, 0x70, 0x48, 0x70, 0x48, 0x48, 0x70, 0x40},
    /* 0xE2  */     {0x78, 0x48, 0x40, 0x40, 0x40, 0x40, 0x40, 0x00},
    /* 0xE3  */     {0x00, 0x7C, 0x28, 0x28, 0x28, 0x28, 0x28, 0x00},
    /* 0xE4  */     {0x28, 0x00, 0x30, 0x08, 0x38, 0x48, 0x34, 0x00},
    /* 0xE5  */     {0x00, 0x00, 0x3C, 0x48, 0x48, 0x30, 0x00, 0x00},
    /* 0xE6  */     {0x00, 0x00, 0x48, 0x48, 0x48, 0x70, 0x40, 0x40},
    /* 0xE7  */     {0x00, 0x00, 0x28, 0x50, 0x10, 0x10, 0x10, 0x00},
    /* 0xE8  */     {0x38, 0x10, 0x38, 0x44, 0x38, 0x10, 0x38, 0x00},
    /* 0xE9  */     {0x30, 0x48, 0x48, 0x78, 0x48, 0x48, 0x30, 0x00},
    /* 0xEA  */     {0x00, 0x38, 0x44, 0x44, 0x28, 0x28, 0x6C, 0x00},
    /* 0xEB  */     {0x30, 0x40, 0x20, 0x10, 0x38, 0x48, 0x30, 0x00},
    /* 0xEC  */     {0x00, 0x00, 0x28, 0x54, 0x54, 0x28, 0x00, 0x00},
    /* 0xED  */     {0x00, 0x10, 0x38, 0x54, 0x54, 0x38, 0x10, 0x00},
    /* 0xEE  */     {0x00, 0x38, 0x40, 0x78, 0x40, 0x38, 0x00, 0x00},
    /* 0xEF  */     {0x00, 0x30, 0x48, 0x48, 0x48, 0x48, 0x00, 0x00},
    /* 0xF0  */     {0x00, 0x78, 0x00, 0x78, 0x00, 0x78, 0x00, 0x00},
    /* 0xF1  */     {0x00, 0x10, 0x38, 0x10, 0x00, 0x38, 0x00, 0x00},
    /* 0xF2  */     {0x40, 0x30, 0x08, 0x30, 0x40, 0x00, 0x78, 0x00},
    /* 0xF3  */     {0x00, 0x00, (signed char)0xFC, (signed char)0xE0, (signed char)0x98, (signed char)0x84, (signed char)0x80, (signed char)0xFC},
    /* 0xF4  */     {0x00, 0x00, (signed char)0xFC, 0x1C, 0x64, (signed char)0x84, 0x04, (signed char)0xFC},
    /* 0xF5  */     {0x10, 0x10, 0x10, 0x10, 0x10, 0x50, 0x20, 0x00},
    /* 0xF6  */     {0x28, 0x00, 0x38, 0x44, 0x44, 0x24, 0x18, 0x00},
    /* 0xF7  */     {(signed char)0xF8, (signed char)0xF8, (signed char)0xF8, (signed char)0xF8, (signed char)0xF8, (signed char)0xF8, (signed char)0xF8, (signed char)0xF8},
    /* 0xF8  */     {(signed char)0xF0, (signed char)0xF0, (signed char)0xF0, (signed char)0xF0, (signed char)0xF0, (signed char)0xF0, (signed char)0xF0, (signed char)0xF0},
    /* 0xF9  */     {(signed char)0xE0, (signed char)0xE0, (signed char)0xE0, (signed char)0xE0, (signed char)0xE0, (signed char)0xE0, (signed char)0xE0, (signed char)0xE0},
    /* 0xFA  */     {(signed char)0xC0, (signed char)0xC0, (signed char)0xC0, (signed char)0xC0, (signed char)0xC0, (signed char)0xC0, (signed char)0xC0, (signed char)0xC0},
    /* 0xFB  */     {(signed char)0x80, (signed char)0x80, (signed char)0x80, (signed char)0x80, (signed char)0x80, (signed char)0x80, (signed char)0x80, (signed char)0x80},
    /* 0xFC  */     {0x28, 0x00, 0x48, 0x48, 0x48, 0x58, 0x24, 0x00},
    /* 0xFD  */     {0x60, 0x10, 0x20, 0x70, 0x00, 0x00, 0x00, 0x00},
    /* 0xFE  */     {0x00, 0x00, 0x00, 0x78, (signed char)0xC8, (signed char)0xCC, (signed char)0xF8, 0x3C},
    /* 0xFF  */     {0x48, (signed char)0xFC, 0x48, 0x48, (signed char)0xFC, 0x48, 0x00, 0x00},
};

/* Verificare si glypha vacua */
static int
est_vacua(const signed char* g)
{
    int i;
    for (i = 0; i < ALTITUDO; i++)
    {
        if (g[i] != 0) return 0;
    }
    return 1;
}

int
main(void)
{
    int i, j;
    int merged = 0;

    printf("/* Fons bitmap - merged HP 100LX + Alcuin */\n");
    printf("/* Magnitudo characteris: 6x8 pixela */\n");
    printf("\n");
    printf("#ifndef FONS_6X8_H\n");
    printf("#define FONS_6X8_H\n");
    printf("\n");
    printf("#include \"latina.h\"\n");
    printf("\n");
    printf("#define FONS_LATITUDO VI\n");
    printf("#define FONS_ALTITUDO VIII\n");
    printf("#define FONS_LATITUDO_REDDENDI VIII  /* Pixela actualia reddendi */\n");
    printf("\n");
    printf("/* Quodque byte repraesentat unum ordinem characteris, VIII pixela latum */\n");
    printf("/* Bit VII est pixelum sinistrum, bit 0 est pixelum dextrum */\n");
    printf("/* Sed solum VI pixela prima utuntur pro spatio characteris */\n");
    printf("interior constans i8 fons_6x8[CCLVI][VIII] = {\n");

    for (i = 0; i < NUM_GLYPHAE; i++)
    {
        const signed char* src;
        int from_alcuin = 0;

        /* Decidere fontem */
        if (i == 0x20)
        {
            /* Space semper vacua */
            src = fons_6x8[i];
        }
        else if (est_vacua(fons_6x8[i]) && !est_vacua(fons_alcuin[i]))
        {
            /* HP vacua, Alcuin habet - utere Alcuin */
            src = fons_alcuin[i];
            from_alcuin = 1;
            merged++;
        }
        else
        {
            /* Utere HP */
            src = fons_6x8[i];
        }

        /* Commentum */
        if (i >= 0x20 && i < 0x7F)
        {
            printf("    /* 0x%02X '%c' */     {", i, (char)i);
        }
        else
        {
            if (from_alcuin)
            {
                printf("    /* 0x%02X [A] */     {", i);
            }
            else
            {
                printf("    /* 0x%02X  */     {", i);
            }
        }

        /* Bytes */
        for (j = 0; j < ALTITUDO; j++)
        {
            if (j > 0) printf(", ");
            printf("0x%02X", (unsigned char)src[j]);
        }

        if (i < NUM_GLYPHAE - 1)
        {
            printf("},\n");
        }
        else
        {
            printf("}\n");
        }
    }

    printf("};\n");
    printf("\n");
    printf("#endif /* FONS_6X8_H */\n");

    fprintf(stderr, "Merged %d glyphs from Alcuin\n", merged);

    return 0;
}
